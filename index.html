<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="robots" content="noindex, nofollow" />
        <title>Está temblando en Ecuador</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
        <style>
            * {
                margin: 0;
                padding: 0;
            }
            body {
                font-family: "Chivo", sans-serif;
                font-optical-sizing: auto;
                font-style: normal;
                font-weight: 300;
                line-height: 1.2;
                background: rgba(255, 255, 255, 1);
                color: #222;
                background-image: linear-gradient(rgba(255, 255, 255, 0.6) 0, rgba(255, 255, 255, 1) 95vh), url("https://ichef.bbci.co.uk/ace/ws/640/cpsprodpb/E240/production/_96102975_hi034932691.jpg.webp");
                background-repeat: no-repeat;
                background-size: 100% auto;
                background-position: 0px -10vw;
            }
            div.container {
                width: min(800px, 90%);
                margin: 2rem auto;
            }
            h1 {
                font-size: calc(2rem + 3vw);
                font-weight: 900;
                padding: 0.125rem;
                text-align: center;
            }
            h2 {
                margin: 2rem 0 1rem 0;
                border-bottom: 1px solid black;
                font-weight: 800;
                padding: 0.25rem;
            }

            h3 {
                margin: 0;
                font-weight: 800;
                padding: 0.25rem;
            }

            h5 {
                font-size: calc(0.6rem + 0.6vw);
                margin: 0 0 2rem 0;
                font-weight: 800;
                padding: 0.25rem;
                text-align: center;
                letter-spacing: 0.01vw;
            }

            a {
                color: #000;
                font-weight: 400;
            }
            a:hover {
                text-decoration: none;
            }
            p {
                margin: 0.5rem 0;
                padding: 0.25rem;
            }
            code {
                font-size: 110%;
                color: #808080;
                background: #C0C0C0;
                border-radius: 2px;
                border: 1px solid #eee;
            }
            table {
                width: 100%;
                text-align: center;
            }
            table a {
                text-decoration: none;
            }
            table a:hover:after {
                content: " ⤴";
            }
            th,
            td {
                border-bottom: 1px solid black;
                border-collapse: collapse;
                padding: 0.25rem;
            }
            td {
                font-size: 90%;
            }
            th,
            td strong {
                font-weight: 700;
            }
            td span {
                color: #999;
            }
            th:nth-child(1),
            th:nth-child(2),
            td:nth-child(1),
            td:nth-child(2) {
                text-align: left;
            }
            footer {
                border-top: 3px solid black;
                margin: 2rem 0 0 0;
                padding: 1rem;
                text-align: center;
                font-size: 80%;
                letter-spacing: 1px;
            }
            .escondido {
                display: none;
            }

            th {
                line-height: 1.5;
            }

            th svg {
                width: 1.5rem;
                height: 1.5rem;
                margin-bottom: -0.25rem;
                margin-left: -0.25rem;
                fill: #2b678c;
            }

            div.mapas {
                width: 100%;
                height: 400px;
                margin: 1rem 0 3rem 0;
                box-shadow: 0 0 4px #eee;
            }

            .leaflet-control {
                display: none;
            }

            /* Lo que sigue es para la historia */

            p.lead {
                font-size: 120%;
                font-weight: 200;
            }

            p em {
                font-weight: 700;
                font-style: normal;
            }

            p span {
                border-radius: 6px 6px;
                padding: 0 0.5rem 0 1.5rem;
                background-color: #a5d8f8;
                background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M5.47,58.58H17A44.19,44.19,0,0,0,5.47,82.93Zm17.84,0h7.62l-3.56-35.8,13.4-5.66V30.65l12.06,4.8-4.06,22A31.82,31.82,0,0,0,18.39,89.08H9.53A40.25,40.25,0,0,1,23.31,58.58ZM50,61.9A27.18,27.18,0,0,1,77.18,89.08h-9a18.27,18.27,0,1,0-36.53,0H22.82A27.18,27.18,0,0,1,50,61.9Zm0,13.28a13.86,13.86,0,0,1,13.78,13.9H54.92a4.92,4.92,0,0,0-9.84,0h-9A14,14,0,0,1,50,75.18Zm8.24-16.6a35.85,35.85,0,0,0-5.29-1L57.5,32.87,45,28V15.28l4.42-1.85L69.56,18.6l3.81,40h3.32a40.25,40.25,0,0,1,13.78,30.5H81.61A31.68,31.68,0,0,0,58.24,58.58Zm24.72,0H94.53V82.93A45.16,45.16,0,0,0,83,58.58Z"></path></svg>');
                background-position: 0.3rem 0;
                background-size: 1rem 1rem;
                background-repeat: no-repeat;
            }

            figure {
                width: 80%;
                margin: 1rem auto;
                padding: 0.25rem;
                border: 1px solid #eee;
                box-shadow: 0 0 5px #fcfcfc;
            }
            figure img {
                width: 100%;
                height: auto;
            }

            figure figcaption {
                font-size: 90%;
                color: gray;
                padding: 0.5rem;
            }

            .fuentes {
                margin-top: 2rem;
                border: 1px solid #eee;
                background: #fafafa;
                padding: 1rem;
                font-size: 90%;
                color: #444;
            }
        </style>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    </head>
    <body>
        <svg xmlns="http://www.w3.org/2000/svg" class="escondido">
            <symbol id="location" viewBox="0 0 100 100">
                <path d="M36.73,36.09a13,13,0,0,0,13,12.67A12.65,12.65,0,0,0,62.44,36.09a13.22,13.22,0,0,0-9.59-12.67v-18A31.37,31.37,0,0,1,81.14,36.58a30.89,30.89,0,0,1-4.55,16.36l-25,41.21H47.93L23,52.94A31.36,31.36,0,0,1,46.7,5.46v18A13.41,13.41,0,0,0,36.73,36.09Z"></path>
            </symbol>

            <symbol id="time" viewBox="0 0 100 100">
                <path d="M15.44,49H6.33a43.68,43.68,0,0,1,87.34,0L89.24,52.1,84.56,49a34.57,34.57,0,0,0-69.12,0Zm1.84,29.77A44.16,44.16,0,0,1,6.83,56.65h9.22a33.86,33.86,0,0,0,7.63,15.62Zm5.66,5.41,6.4-6.52A34.17,34.17,0,0,0,46.19,84.2v9.22A42.43,42.43,0,0,1,22.94,84.2ZM86.53,64.64,54.31,47.91V25.16H47.05V52.22l36,18.94ZM77.55,84a43.22,43.22,0,0,1-23.61,9.47V84.2a32.11,32.11,0,0,0,17-6.77Z"></path>
            </symbol>

            <symbol id="tsunami" viewBox="0 0 100 100">
                <path d="M91.33,88.22H8.92c-2.22,0-3.57-1.23-3.57-3a4.63,4.63,0,0,1,.61-2L17.77,62.51c5.17-9,16.36-13.9,27.06-13.9,11.57,0,17.35,5.54,17.35,10.46,0,4.3-3.32,7.13-6.77,8.12H53.07a3.49,3.49,0,0,0-3.56-3.82,3.42,3.42,0,0,0-3.32,3.45c0,3.81,4.79,7.5,13.16,7.5,7.75,0,18-3.57,24.6-9.1L94.28,83.3a3.51,3.51,0,0,1,.37,1.84A3,3,0,0,1,91.33,88.22Zm-10.21-28L52.71,10.36a3.19,3.19,0,0,0-5.66,0L26.14,47.51a36.15,36.15,0,0,1,12.67-4.06L49.88,23.89,73.37,64.36A19.72,19.72,0,0,0,81.12,60.17Z"></path>
            </symbol>

            <symbol id="magnitude" viewBox="0 0 100 100">
                <path d="M5.47,58.58H17A44.19,44.19,0,0,0,5.47,82.93Zm17.84,0h7.62l-3.56-35.8,13.4-5.66V30.65l12.06,4.8-4.06,22A31.82,31.82,0,0,0,18.39,89.08H9.53A40.25,40.25,0,0,1,23.31,58.58ZM50,61.9A27.18,27.18,0,0,1,77.18,89.08h-9a18.27,18.27,0,1,0-36.53,0H22.82A27.18,27.18,0,0,1,50,61.9Zm0,13.28a13.86,13.86,0,0,1,13.78,13.9H54.92a4.92,4.92,0,0,0-9.84,0h-9A14,14,0,0,1,50,75.18Zm8.24-16.6a35.85,35.85,0,0,0-5.29-1L57.5,32.87,45,28V15.28l4.42-1.85L69.56,18.6l3.81,40h3.32a40.25,40.25,0,0,1,13.78,30.5H81.61A31.68,31.68,0,0,0,58.24,58.58Zm24.72,0H94.53V82.93A45.16,45.16,0,0,0,83,58.58Z"></path>
            </symbol>
        </svg>

        <div class="container">
            <h1>
                Está temblando<br/>
                en Ecuador
            </h1>
            <h5>Diseño y visualización de información | Universidad de Chile</h5>
            <p>
                El <abbr title="United States Geological Survey">USGS</abbr> (Servicio Geológico de Estados Unidos) es responsable del
                <a href="https://www.usgs.gov/programs/earthquake-hazards" target="_blank">Earthquake Hazards Program</a>, que monitorea e informa sobre movimientos telúricos, además de evaluar sus impactos y riesgos. Los resultados de su
                monitoreo son compartidos mediante <a href="https://earthquake.usgs.gov/earthquakes/feed/" target="_blank">Real-time Notifications</a>, que pueden consultarse en distintos formatos.
            </p>
            <p>
                Entre los compartidos está el GeoJSON Summary Format, que es actualizado a cada minuto y tiene una estructura (Output) que se explica en su página oficial. Aprovechando la
                <a href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/geojson.php" target="_blank">explicación de la estructura (Output)</a>, y lo ya preparado en este código fuente, que entra al <code>features:[]</code> para obtener
                los datos, podemos visualizar lo que sigue:
            </p>
            <h2>En Ecuador</h2>
            <table>
                <thead>
                    <tr>
                        <th>
                            <svg><use href="#location"></use></svg> Place
                        </th>
                        <th>
                            <svg><use href="#time"></use></svg> Time
                        </th>
                        <th>
                            <svg><use href="#magnitude"></use></svg> Mag
                        </th>
                        <th>
                            <svg><use href="#tsunami"></use></svg> Tsunami
                        </th>
                    </tr>
                </thead>
                <tbody id="ec"></tbody>
            </table>

            <div class="mapas" id="mapaEC"></div>
            
            <h2 class="escondido">En Japón</h2>
            <table class="escondido">
                <thead>
                    <tr>
                        <th>
                            <svg><use href="#location"></use></svg> place
                        </th>
                        <th>
                            <svg><use href="#time"></use></svg> time
                        </th>
                        <th>
                            <svg><use href="#magnitude"></use></svg> mag
                        </th>
                        <th>
                            <svg><use href="#tsunami"></use></svg> tsunami
                        </th>
                    </tr>
                </thead>
                <tbody id="jp"></tbody>
            </table>

            <div class="mapas escondido" id="mapaJP"></div>

            <h2 class="escondido">En Rusia</h2>
            <table class="escondido">
                <thead>
                    <tr>
                        <th>
                            <svg><use href="#location"></use></svg> place
                        </th>
                        <th>
                            <svg><use href="#time"></use></svg> time
                        </th>
                        <th>
                            <svg><use href="#magnitude"></use></svg> mag
                        </th>
                        <th>
                            <svg><use href="#tsunami"></use></svg> tsunami
                        </th>
                    </tr>
                </thead>
                <tbody id="ru"></tbody>
            </table>

            <div class="mapas escondido" id="mapaRU"></div>


            <h2>Ecuador comparando con otros países</h2>
            <p>Registros sobre 3.9 M del último mes, comparado con Japón y Rusia</p>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50" id="viz"></svg>
 
            <h2>Historia de terremotos en Ecuador</h2>

            <p class="lead">
                Ecuador, ubicado en el Cinturón de Fuego del Pacífico, es una región propensa a la actividad sísmica debido a la interacción de varias placas tectónicas. 
                A lo largo de su historia, el país ha experimentado numerosos terremotos significativos que han dejado una huella profunda en su desarrollo y en la vida de sus habitantes.
            </p>

            <figure>
                <img src="https://static01.nyt.com/images/2016/04/19/world/19ecuador-web1/19ecuador-web1-superJumbo.jpg"/>
                <figcaption>Terremoto 2016, Ecuador, The New York Times, 2016, https://www.nytimes.com/es/2016/04/18/espanol/america-latina/parece-una-zona-de-guerra-numero-de-victimas-del-terremoto-en-ecuador-asciende-a-350.html </figcaption>
            </figure>

            <p>En 1906 hubo un terremoto en Ecuador, que afectó también a Colombia, de <span>8,8</span> en potencia de Magnitud de Momento, el más potente en la historia sísmica del país y que causó un tsunami devastador. Otro gran terremoto es el que ocurrió en Ambato, en 1949 de <span>6,8</span> en potencia de Magnitud de Momento, siendo un terremoto interplaca. Otro gran terremoto que afectó a Ecuador, ocurrió dentro de la placa de Nazca subducida, en 2010 con <span>7,1</span> en potencia de Magnitud de Momento, estos siendo generalmente muy profundos causando un daño masivo.</p>

            <p>En 1797, en Riobamba, la Villa San Pedro de Riombamba, con registros de <span>8,3</span> en potencia de Magnitud de Momento, es considerado uno de los más devastadores para Ecuador, el cual provocó más de <em>12.000 fallecidos</em>, después de esta catástrofe natural los habitantes de la villa <em>decidieron no volver a vivir ahí</em>.</p>

            <figure>
                <img src="https://img.genially.com/5fefca7b959d9d24f07ccf41/5c3a8e12-1d0f-41b5-8ca6-05a8c0334cc2.png" />
                <figcaption>Terremoto de 1797, Villa San Pedro de Riombamba, s.f, s.a, https://view.genially.com/60da49ce0ae5a70d2b720b07/interactive-content-terremoto-de-riobamba-de-1797. </figcaption>
            </figure>

            <p>En abril de 2016, en la provincia de Esmeralda, Ecuador sufre un sismo mortífero a las 18:58:37 hora local (UTC-5), el terremoto fué de magnitud <span>7,8</span> constituye el sismo más fuerte sentido en el país desde el terremoto de Colombia de 1979, y el más destructivo desde el terremoto de 1987. Este fue percibido en distintos países tales como Colombia, Perú, Venezuela y Panamá.</p>

            <p>Ecuador posee también casos más comunes de enjambres sísmicos relativamente pequeños que son asociados a la actividad volcánica, un ejemplo es el enjambre de Quito en el período 1998 - 1999 que se encontraba vinculado al volcán <em>Guagua Pichincha</em>.</p>

            <figure>
                <img src="https://culturacientifica.utpl.edu.ec/wp-content/uploads/2019/08/TERREMOTO.jpg" />
                <figcaption>Terremoto en Ecuador, 2019, https://culturacientifica.utpl.edu.ec/sismos-en-ecuador-medidas-preventivas/</figcaption>
            </figure>

            <p>Ecuador al encontrarse en una zona de subducción entre la <em>placa de Nazca y la placa Sudamericana</em>, es propenso a experimentar terremotos de diversas magnitudes. Esta ubicación geográfica lo convierte en un país con una alta actividad sísmica, lo que ha llevado a la implementación de medidas de prevención y respuesta ante desastres naturales, especialmente por parte de las autoridades locales y nacionales. Si desea un mayor conocimiento de otros casos sísmicos, puede acceder a mayor información de otros países como <a href="https://nikogarrido.github.io/clase-12/index.html">Haití</a> o <a href="https://macncheese03.github.io/Clase-12/index.html">Malasia</a>.</p>

            <div class="fuentes">
                <h3>Fuentes:</h3>
                <p>“El terremoto de 1797 ha sido el más devastador de Ecuador” – Secretaría Nacional de Gestión de Riesgos. (s. f.).: <a href="https://www.gestionderiesgos.gob.ec/el-terremoto-de-1797-ha-sido-el-mas-devastador-de-ecuador/">Gestión de Riesgos Ecuador</a>.</p>
                <p>colaboradores de Wikipedia. (s. f.). Anexo:Terremotos en Ecuador - Wikipedia, la enciclopedia libre: <a href="https://es.wikipedia.org/wiki/Anexo:Terremotos_en_Ecuador#:~:text=Colombia%20de%201906.-,Terremotos%20intraplacas,terremoto%20de%20Ambato%20de%201949.">Terremotos en Ecuador</a>.</p>
                <p>“El terremoto de 1797 ha sido el más devastador de Ecuador” – Secretaría Nacional de Gestión de Riesgos. (s. f.): <a href="https://www.igepn.edu.ec/interactuamos-con-usted/2101-el-gran-terremoto-del-31-de-enero-de-1906">Instituto Geofísico, Escuela Politécnica Nacional</a>.</p>
                <p>colaboradores de Wikipedia. (2025, 24 agosto). Terremoto de Ecuador de 2016. Wikipedia, la Enciclopedia Libre: <a href="https://es.wikipedia.org/wiki/Terremoto_de_Ecuador_de_2016">Terremoto de Ecuador de 2016</a>.</p>
                <p>Referente de ayuda, IA de Google, Géminis.</p>
            </div>

            <footer>
                <p>Desarrollado por <a href="https://github.com/Francys-vs" target="_blank">Francys Vásquez Santander</a> &copy; 2025</p>
            </footer>
        </div>
        <script>
            const ecuatorianos = document.getElementById("ec"); //saco datos de ecuador
            const japoneses = document.getElementById("jp"); //saco datos de japon
            const rusos = document.getElementById("ru"); //saco datos de rusia

            var conteoEcuatorianos = 0; //conteo para cantida de terremotos sobre 3.9M
            var conteoJaponeses = 0;
            var conteoRusos = 0;

            async function datos(url) {
                try {
                    let consulta = await fetch(url);
                    let data = await consulta.json();
                    let temblores = data.features;
                    console.log(temblores);

                    const mapaEcuador = L.map("mapaEC").setView([-0.1865944,-78.4305382], 6);
                    const tiles = L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
                        maxZoom: 19,
                        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
                    }).addTo(mapaEcuador);

                    temblores.forEach((t) => {
                        if (t.properties.place.includes("Ecuador") && t.properties.mag >= 3.9) {
                            ecuatorianos.innerHTML += `<tr>
                            <td><a href="${t.properties.url}" target="_blank">${t.properties.place}</a></td>
                            <td>${tiempo(t.properties.time)}</td>
                            <td>${magnitud(t.properties.mag)}</td>
                            <td>${tsunami(t.properties.tsunami)}</td>
                        </tr>`;
                            conteoEcuatorianos++;
                            L.marker([t.geometry.coordinates[1], t.geometry.coordinates[0]]).addTo(mapaEcuador).bindPopup(t.properties.place);
                        }

                        if (t.properties.place.includes("Japan") && t.properties.mag >= 3.9) {
                            japoneses.innerHTML += `<tr>
                            <td><a href="${t.properties.url}" target="_blank">${t.properties.place}</a></td>
                            <td>${tiempo(t.properties.time)}</td>
                            <td>${magnitud(t.properties.mag)}</td>
                            <td>${tsunami(t.properties.tsunami)}</td>
                        </tr>`;
                            conteoJaponeses++;
                        }

                        if (t.properties.place.includes("Russia") && t.properties.mag >= 3.9) {
                            rusos.innerHTML += `<tr>
                            <td><a href="${t.properties.url}" target="_blank">${t.properties.place}</a></td>
                            <td>${tiempo(t.properties.time)}</td>
                            <td>${magnitud(t.properties.mag)}</td>
                            <td>${tsunami(t.properties.tsunami)}</td>
                        </tr>`;
                            conteoRusos++;
                        }
                    });
                const dividir = 10;
                document.getElementById("viz").innerHTML = `<g><circle cx="15" cy="25" r="${
                    conteoEcuatorianos / dividir
                }" fill="#2A86BF"></circle><text x="15" y="25" font-size="1.5" dominant-baseline="middle" text-anchor="middle" fill="white">${conteoEcuatorianos}</text><text x="15" y="45" font-size="2" dominant-baseline="middle" text-anchor="middle">Ecuador</text><g>`;

                document.getElementById("viz").innerHTML += `<g transform="translate(25)"><circle cx="22" cy="25" r="${
                    conteoJaponeses / dividir
                }" fill="#2A86BF"></circle><text x="22" y="25" font-size="1.5" dominant-baseline="middle" text-anchor="middle" fill="white">${conteoJaponeses}</text><text x="22" y="45" font-size="2" dominant-baseline="middle" text-anchor="middle">Japón</text><g>`;

                document.getElementById("viz").innerHTML += `<g transform="translate(75)"><circle cx="10" cy="25" r="${
                    conteoRusos / dividir
                }" fill="#2A86BF"></circle><text x="10" y="25" font-size="1.5" dominant-baseline="middle" text-anchor="middle" fill="white">${conteoRusos}</text><text x="10" y="45" font-size="2" dominant-baseline="middle" text-anchor="middle">Rusia</text><g>`;
                } catch (error) {
                    console.log("Error al obtener los datos: ", error);
                }
            }

            datos("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_month.geojson");

            function magnitud(x) {
                var numero = x;
                if (x > 4.9) {
                    numero = "<strong>" + x + "</strong>";
                }
                return numero;
            }

            function tiempo(x) {
                var unix = x;
                var dato = new Date(unix);
                var formato = dato.toISOString();
                var corte = formato.split("T");
                return corte[0] + " a las " + corte[1].split(":")[0] + ":" + corte[1].split(":")[1] + " hrs.";
            }

            function tsunami(x) {
                var mensaje = "<span>Sin alerta</span>";
                if (x == 1) {
                    mensaje = "<strong>¡Tsunami!</strong>";
                }
                return mensaje;
            }
        </script>
    </body>
</html>
